<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="route">
    <typeAlias alias="route" type="org.proffart.carpool.domain.Route"/>
    <resultMap id="result" class="route">
        <result property="id" column="id"/>
        <result property="userId" column="userId"/>
        <result property="carId" column="carId"/>
        <result property="statDate" column="statDate"/>
        <result property="startTime" column="startTime"/>

        <result property="periodic" column="periodic"/>

        <result property="startPoint" column="startPoint"/>
        <result property="endPoint" column="endPoint"/>

        <result property="startLatitude" column="startLatitude"/>
        <result property="endLatitude" column="endLatitude"/>
        <result property="startLongitude" column="startLongitude"/>
        <result property="endLongitude" column="endLongitude"/>

        <result property="monday" column="monday"/>
        <result property="tuesday" column="tuesday"/>
        <result property="wednesday" column="wednesday"/>
        <result property="thursday" column="thursday"/>
        <result property="friday" column="friday"/>
        <result property="saturday" column="saturday"/>
        <result property="sunday" column="sunday"/>
    </resultMap>

    <insert id="insert" parameterClass="route">
        INSERT INTO route ( userId, carId, statDate, startTime, periodic, startPoint, endPoint, startLatitude, endLatitude, startLongitude, endLongitude, monday, tuesday, wednesday, thursday, friday, saturday, sunday )
        VALUES (#userId#, #carId#, #statDate#, #startTime#, #periodic#, #startPoint#, #endPoint#, #startLatitude#, #endLatitude#, #startLongitude#, #endLongitude#, #monday#, #tuesday#, #wednesday#, #thursday#, #friday#, #saturday#, #sunday#)

        <selectKey resultClass="int" keyProperty="id">
            SELECT last_insert_id() AS id
        </selectKey>
    </insert>

    <update id="update" parameterClass="route">
        UPDATE route
        SET
        route.carId = #carId#,
        route.statDate = #statDate#,
        route.startTime = #startTime#,
        route.periodic = #periodic#,
        route.startPoint = #startPoint#,
        route.endPoint = #endPoint#,
        route.startLatitude = #startLatitude#,
        route.endLatitude = #endLatitude#,
        route.startLongitude = #startLongitude#,
        route.endLongitude = #endLongitude#,
        route.monday = #monday#,
        route.tuesday = #tuesday#,
        route.wednesday = #wednesday#,
        route.thursday = #thursday#,
        route.friday = #friday#,
        route.saturday = #saturday#,
        route.sunday = #sunday#
        WHERE route.id = #id#
    </update>

    <delete id="deleteById" parameterClass="int">
        DELETE FROM route WHERE route.id = #id#
    </delete>


    <select id="getRoutes" resultClass="route" parameterClass="int">
        SELECT * FROM route WHERE route.userId = #userId#
    </select>




</sqlMap>